# ☕ Walkthrough LAMP

### Crear un servidor LAMP

#### Conectarse al servidor

```bash
bashCopy codessh root@ip_address
```

#### Crear un nuevo usuario

```bash
bashCopy codeadduser dcollao
usermod -aG sudo dcollao
```

#### Configurar el firewall

```bash
bashCopy codeufw app list
ufw allow OpenSSH
ufw enable
ufw status
exit
```

#### Instalar Apache

```bash
bashCopy codessh username@ip_address
sudo apt update
sudo apt install apache2
```

#### Configurar Apache para permitir tráfico web

```bash
bashCopy codesudo ufw app list
sudo ufw allow "Apache Full"
```

#### Instalar y configurar MySQL

```bash
bashCopy codesudo apt install mysql-server
sudo systemctl start mysql.service
sudo mysql
ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password';
mysql_secure_installation
```

#### Instalar y configurar PhpMyAdmin

```bash
bashCopy codemysql -u root -p
UNINSTALL COMPONENT "file://component_validate_password";
exit
sudo apt install phpmyadmin php-mbstring php-zip php-gd php-json php-curl
sudo phpenmod mbstring
```

#### Instalar PHP

```bash
bashCopy codesudo apt install php libapache2-mod-php php-mysql
```

#### Configurar SSL

```bash
bashCopy codesudo apt install certbot python3-certbot-apache
sudo certbot --apache
sudo systemctl status certbot.timer
sudo certbot renew --dry-run
```

#### Preparar servidor para Wordpress

```bash
bashCopy codemysql -u root -p
CREATE DATABASE wordpress DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;
UNINSTALL COMPONENT "file://component_validate_password";
CREATE USER 'dcollao'@'%' IDENTIFIED WITH mysql_native_password BY 'password';
GRANT ALL ON wordpress.* TO 'dcollao'@'%';
FLUSH PRIVILEGES;
exit
```

#### Descargar Wordpress

```bash
bashCopy codecd /tmp
curl -O https://wordpress.org/latest.tar.gz
tar xzvf latest.tar.gz
sudo cp -a /tmp/wordpress/. /var/www/imura.cl/
```

#### Ajustar permisos

```bash
bashCopy codesudo chown -R www-data:www-data /var/www/imura.cl
sudo find /var/www/imura.cl/ -type d -exec chmod 750 {} \;
sudo find /var/www/imura.cl/ -type f -exec chmod 640 {} \;
```

\
