---
description: https://app.hackthebox.com/machines/Pov
---

# 游릳 HTB - Pov

Informaci칩n General

* **Nombre de la M치quina: Pov**
* **IP de la M치quina:**  10.129.187.106
* **Sistema Operativo: Windows**
* **Dificultad: Medium**
* **Fecha de Publicaci칩n:** 27 Jan 2024



***

### Enumeraci칩n

#### Ping para obtener ruta de retorno

Realizamos un ping a la m치quina objetivo para verificar la conectividad y obtener informaci칩n sobre la ruta utilizando la opci칩n `-R` para incluir la ruta de retorno:

```bash
ping -c 1 10.129.187.106 -R
```

<figure><img src="../../.gitbook/assets/image.png" alt=""><figcaption></figcaption></figure>

El valor de TTL (Time To Live) igual a 127 puede ser indicativo de que el sistema operativo de la m치quina objetivo es Windows. El TTL es un valor en el campo de los paquetes IP que indica la duraci칩n que un paquete puede estar en una red antes de ser descartado. <mark style="color:yellow;">**Windows establece por defecto el valor de TTL de sus paquetes IP en 128**</mark>, que al pasar por un salto en la red se decrementa a 127.

#### **Escaneo de puertos con Nmap**

Luego, realizamos un escaneo de puertos utilizando Nmap para identificar los puertos abiertos en la m치quina objetivo. Utilizamos las opciones `-p-` para escanear todos los puertos, `--open` para mostrar solo los puertos abiertos, `-sS` para un escaneo de tipo TCP SYN, `--min-rate 5000` para establecer la velocidad m칤nima de paquetes y `-vvv` para un nivel de verbosidad alto. Adem치s, utilizamos `-n` para desactivar la resoluci칩n de DNS, `-Pn` para no realizar el escaneo de ping, y `-oG allPorts` para guardar la salida en un archivo con formato Greppable <mark style="color:yellow;">para luego utilizar nuestra funci칩n extractPorts</mark>:

<pre class="language-bash" data-overflow="wrap"><code class="lang-bash"><strong>sudo nmap -p- --open -sS --min-rate 5000 -vvv -n -Pn 10.129.187.106 -oG allPorts
</strong>extractPorts allPorts
</code></pre>



#### **Escaneo detallado con Nmap**

Posteriormente, realizamos un escaneo m치s detallado de los puertos identificados utilizando la opci칩n `-sCV` para detecci칩n de versiones y scripts de enumeraci칩n de servicios. Espec칤ficamente, indicamos los puertos a escanear con `-p __PORTS__` (reemplazando `__PORTS__` con los puertos identificados en el paso anterior) y guardamos la salida en un archivo de texto con el nombre `targeted`:

```bash
sudo nmap -sCV -O -p80 10.129.187.106 -oN targeted
```

<figure><img src="../../.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

#### Modificando /etc/hosts

Para a침adir la entrada "10.129.187.106 pov.htb" al archivo `/etc/hosts`, puedes usar el siguiente comando en la terminal:

```bash
echo "10.129.187.106 pov.htb" | sudo tee -a /etc/hosts
```

Este comando a침ade la direcci칩n IP `10.129.187.106`  asociada al nombre de host  `pov.htb` al archivo `/etc/hosts` de tu sistema.

<figure><img src="../../.gitbook/assets/image (3).png" alt=""><figcaption></figcaption></figure>

{% code overflow="wrap" %}
```bash
dirsearch -u http://pov.htb -w /usr/share/seclists/Discovery/Web-Content/raft-large-files.txt
```
{% endcode %}

<figure><img src="../../.gitbook/assets/image (4).png" alt=""><figcaption></figcaption></figure>

{% code overflow="wrap" %}
```bash
gobuster dir -u http://pov.htb/ -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -t 50  -o directory-list-2.3-medium.txt
```
{% endcode %}

<figure><img src="../../.gitbook/assets/image (5).png" alt=""><figcaption></figcaption></figure>

{% code overflow="wrap" %}
```bash
gobuster dns -d pov.htb -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-20000.txt -t 50
```
{% endcode %}

<figure><img src="../../.gitbook/assets/image (6).png" alt=""><figcaption></figcaption></figure>

{% code overflow="wrap" %}
```bash
echo "10.129.187.106 dev.pov.htb" | sudo tee -a /etc/hosts
```
{% endcode %}

<figure><img src="../../.gitbook/assets/image (7).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (8).png" alt=""><figcaption></figcaption></figure>

Al hacer click en descargar el CV corre el siguiente javascript:\
`javascript:__doPostBack('download','')`, Por lo que decido utilizar Burpsuite para ver que ocurre m치s a fondo:

<figure><img src="../../.gitbook/assets/image (9).png" alt=""><figcaption></figcaption></figure>

Envio al Repeater y pruebo descargar el contact.aspx.cs.

<figure><img src="../../.gitbook/assets/image (10).png" alt=""><figcaption></figcaption></figure>

Quiero creer que funciona por lo que le pregunto a ChatGPT qu칠 archivos sensibles podr칤a descargar:

<figure><img src="../../.gitbook/assets/image (11).png" alt=""><figcaption></figcaption></figure>

Por lo que descargo web.config:

<figure><img src="../../.gitbook/assets/image (12).png" alt=""><figcaption></figcaption></figure>

